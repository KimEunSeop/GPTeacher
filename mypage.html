<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지 - AI Teacher</title>
    <link rel="stylesheet" href="css/mypage.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">AI Teacher</div>
            <div class="user-menu">
                <div class="nav-links">
                    <a href="dashboard.html" class="nav-link">대시보드</a>
                    <a href="mypage.html" class="nav-link active">마이페이지</a>
                    <a href="logout.php" class="nav-link">로그아웃</a>
                </div>
                <div class="user-info">
                    로딩 중...
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <h1 class="page-title">마이페이지</h1>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">📝</div>
                <div class="stat-number" id="totalQuestions">-</div>
                <div class="stat-label">총 생성 문제</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">📅</div>
                <div class="stat-number" id="thisMonthQuestions">-</div>
                <div class="stat-label">이번 달 생성</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">⏰</div>
                <div class="stat-number" id="daysSinceJoin">-</div>
                <div class="stat-label">가입 일수</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">🔥</div>
                <div class="stat-number" id="streak">-</div>
                <div class="stat-label">연속 사용일</div>
            </div>
        </div>

        <div class="content-grid">
            <div class="main-content">
                <div class="recent-activity">
                    <h2 class="section-title">
                        <span>📊</span>
                        최근 활동
                    </h2>
                    <div id="activityList">
                        <div class="empty-state">
                            <div class="empty-icon">⏳</div>
                            <div>활동 내역을 불러오는 중...</div>
                        </div>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>월별 문제 생성 현황</h3>
                    <canvas id="monthlyChart" width="400" height="200"></canvas>
                </div>
            </div>

            <div class="sidebar">
                <div class="user-info-section">
                    <h2 class="section-title">
                        <span>👤</span>
                        계정 정보
                    </h2>
                    <div class="user-details">
                        <div class="info-item">
                            <span class="info-label">이메일</span>
                            <span class="info-value" id="userEmail">로딩 중...</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">가입일</span>
                            <span class="info-value" id="joinDate">로딩 중...</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">마지막 활동</span>
                            <span class="info-value" id="lastActivity">로딩 중...</span>
                        </div>
                    </div>
                </div>

                <!-- 즐겨찾기 섹션 추가 -->
                <div class="favorites-section">
                    <h2 class="section-title">
                        <span>⭐</span>
                        즐겨찾기 문제
                    </h2>
                    <div id="favoritesList">
                        <div class="loading-favorites">
                            <div class="mini-spinner"></div>
                            <div>즐겨찾기 목록 로딩중...</div>
                        </div>
                    </div>
                    <div class="favorites-actions" id="favoritesActions" style="display: none;">
                        <a href="favorites.html" class="btn btn-secondary">전체 보기</a>
                    </div>
                </div>

                <div class="quick-actions">
                    <a href="dashboard.html" class="btn">새 문제 생성</a>
                    <button class="btn btn-secondary" onclick="downloadData()">데이터 내보내기</button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 31253) 충청남도 천안시 동남구 병천면 충절로 1600 (가전리, 한국기술교육대학교) Tel. 010-3658-7761 | Copyrightⓒ2025 AI Teacher. All rights reserved.</p>
    </footer>

    <script src="js/mypage.js"></script>
</body>
</html>
